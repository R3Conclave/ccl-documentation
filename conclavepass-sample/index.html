
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.2.11">
    
    
      
        <title>ConclavePass Sample using Conclave Functions - Conclave Cloud User Guide</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8c5ef100.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.9647289d.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#conclave-pass-password-manager-implemented-using-conclave-cloud" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Conclave Cloud User Guide" class="md-header__button md-logo" aria-label="Conclave Cloud User Guide" data-md-component="logo">
      
  <img src="../assets/cloud-logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Conclave Cloud User Guide
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ConclavePass Sample using Conclave Functions
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Conclave Cloud User Guide" class="md-nav__button md-logo" aria-label="Conclave Cloud User Guide" data-md-component="logo">
      
  <img src="../assets/cloud-logo.svg" alt="logo">

    </a>
    Conclave Cloud User Guide
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Getting Started
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../releases/" class="md-nav__link">
        Tools and SDKs
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../what-is-conclave-cloud/" class="md-nav__link">
        What is Conclave Cloud?
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../conclave-cloud-concepts/" class="md-nav__link">
        Conclave Cloud Concepts
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Conclave Functions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Conclave Functions" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Conclave Functions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../javascript-in-conclave-functions/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../creating-your-first-function/" class="md-nav__link">
        Creating your first function
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../creating-a-function-module/" class="md-nav__link">
        Creating a Function Module
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4" type="checkbox" id="__nav_5_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_4">
          Built-in Modules
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Built-in Modules" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          Built-in Modules
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fetch/" class="md-nav__link">
        Fetch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../crypto/" class="md-nav__link">
        Crypto
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          ConclavePass Sample using Conclave Functions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        ConclavePass Sample using Conclave Functions
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sample-description" class="md-nav__link">
    Sample description
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-existing-password-managers-work" class="md-nav__link">
    How do existing password managers work?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-the-architecture-of-the-conclavepass-app" class="md-nav__link">
    What's the architecture of the ConclavePass app?
  </a>
  
    <nav class="md-nav" aria-label="What's the architecture of the ConclavePass app?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    Functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backend" class="md-nav__link">
    Backend
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frontend" class="md-nav__link">
    Frontend
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-line-interface-cli" class="md-nav__link">
    Command Line Interface (CLI)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-is-privacy-preserved" class="md-nav__link">
    How is privacy preserved?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-and-deploying-the-demonstration" class="md-nav__link">
    Building and deploying the demonstration
  </a>
  
    <nav class="md-nav" aria-label="Building and deploying the demonstration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-backend" class="md-nav__link">
    1. Backend
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-functions" class="md-nav__link">
    2. Functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-frontend" class="md-nav__link">
    3. Frontend
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-command-line-interface-cli" class="md-nav__link">
    4. Command Line Interface (CLI)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-notes" class="md-nav__link">
    Usage notes
  </a>
  
    <nav class="md-nav" aria-label="Usage notes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-username-is-used-as-the-user-token" class="md-nav__link">
    The username is used as the user token
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-password-is-fixed-on-the-first-access" class="md-nav__link">
    The password is fixed on the first access
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#incorrect-passwords-are-not-handled-well" class="md-nav__link">
    Incorrect passwords are not handled well
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-database-is-not-persisted" class="md-nav__link">
    The database is not persisted
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../invoking-your-first-function-with-js-sdk/" class="md-nav__link">
        Tutorial - Invoking your function using Conclave Cloud JS SDK
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sample-description" class="md-nav__link">
    Sample description
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-existing-password-managers-work" class="md-nav__link">
    How do existing password managers work?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-the-architecture-of-the-conclavepass-app" class="md-nav__link">
    What's the architecture of the ConclavePass app?
  </a>
  
    <nav class="md-nav" aria-label="What's the architecture of the ConclavePass app?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    Functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backend" class="md-nav__link">
    Backend
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frontend" class="md-nav__link">
    Frontend
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-line-interface-cli" class="md-nav__link">
    Command Line Interface (CLI)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-is-privacy-preserved" class="md-nav__link">
    How is privacy preserved?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-and-deploying-the-demonstration" class="md-nav__link">
    Building and deploying the demonstration
  </a>
  
    <nav class="md-nav" aria-label="Building and deploying the demonstration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-backend" class="md-nav__link">
    1. Backend
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-functions" class="md-nav__link">
    2. Functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-frontend" class="md-nav__link">
    3. Frontend
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-command-line-interface-cli" class="md-nav__link">
    4. Command Line Interface (CLI)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-notes" class="md-nav__link">
    Usage notes
  </a>
  
    <nav class="md-nav" aria-label="Usage notes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-username-is-used-as-the-user-token" class="md-nav__link">
    The username is used as the user token
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-password-is-fixed-on-the-first-access" class="md-nav__link">
    The password is fixed on the first access
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#incorrect-passwords-are-not-handled-well" class="md-nav__link">
    Incorrect passwords are not handled well
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-database-is-not-persisted" class="md-nav__link">
    The database is not persisted
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="conclave-pass-password-manager-implemented-using-conclave-cloud">Conclave Pass - Password Manager implemented using Conclave Cloud</h1>
<p>Conclave Cloud provides a password manager as a sample application. You can get the application's code from 
<a href="https://github.com/R3Conclave/ccl-sample-conclavepass">this GitHub repository</a>. </p>
<h2 id="sample-description">Sample description</h2>
<p>The Conclave Pass repository contains a set of projects that together implement a basic password manager service 
that demonstrates how to use Conclave Cloud services to provide a privacy-preserving backend to an application.</p>
<p>The end user can interact with the password manager service using both a web-based frontend implemented with Angular,
and a command-line tool written in Kotlin.</p>
<h2 id="how-do-existing-password-managers-work">How do existing password managers work?</h2>
<p>Password managers maintain a database of password entries that are all protected by a single master password or 
access key. The password database contains sensitive information that the user wants to keep private. Even the 
password manager service administrators shouldn't be able to access entries within the database.</p>
<p>Password managers typically solve this privacy problem by storing the database using at-rest encryption in a 
cloud database. When users access the database on a new device, the application synchronizes a cloud copy of the 
entire database to the device. The user can then perform all database operations in the client application or the web 
browser.</p>
<p>For example, you can find the architecture used by LastPass <a href="https://www.lastpass.com/security/zero-knowledge-security">here</a>.</p>
<p>This approach is secure but has some limitations:</p>
<ul>
<li>If the database grows large, it may take significant network bandwidth/storage on the endpoint device.</li>
<li>There is no opportunity for sharing or collaboration on database entries.</li>
</ul>
<p>For password managers, these are not actual limitations, but this demo project shows that you can use Conclave Cloud 
to solve these two issues in other types of applications by accessing the database inside an SGX enclave on the cloud.</p>
<h2 id="whats-the-architecture-of-the-conclavepass-app">What's the architecture of the ConclavePass app?</h2>
<p>The following diagram illustrates the architecture of the ConclavePass application.</p>
<p><img alt="An architecture diagram of the ConclavePass sample application" src="../assets/ConclavePassArchitecture.drawio.png" /></p>
<p>The components in the diagram are named corresponding to the Conclave Pass directory that contains its implementation.</p>
<p>These components are described below:</p>
<h3 id="functions">Functions</h3>
<p>The functions component consists of a typescript module that provides methods that you can use to add, query, get, 
and remove entries within the user's database. This component requires access to the unencrypted database, and 
therefore, to ensure privacy, runtime encryption is used by hosting the functions within Conclave Cloud in the Conclave 
Functions service.</p>
<p>Conclave Functions are stateless and do not have access to any persistent storage. Therefore, external storage 
within the cloud is necessary to persist the user databases. The functions component uses the JavaScript
<code>fetch()</code> built-in capability to query and update an external data store with each user's encrypted database entries.
It is critical to encrypt any data exchanged via <code>fetch()</code> as the request comes from outside the Intel SGX enclave of 
Conclave Functions.</p>
<p>The Functions module uses another built-in function, <code>crypto.getProjectKey()</code> to get a key unique to the project and
function code and uses this key to encrypt/decrypt the user's database before exchanging it with external storage.</p>
<h3 id="backend">Backend</h3>
<p>The backend service stores and retrieves the encrypted database for each user. The encrypted data it handles can 
only be accessed within the functions component, ensuring that no unauthorized entity can access the user databases.</p>
<p>The simple implementation provided within this project consists of a Spring application that stores the databases in 
a key/value map in memory. All entries are lost if the service restarts.</p>
<h3 id="frontend">Frontend</h3>
<p>The front end is a web application that allows login/logout and management of user keys. This web application 
implemented using the Angular framework demonstrates how you can interact with Conclave Functions using the Conclave 
Cloud JavaScript SDK.</p>
<h3 id="command-line-interface-cli">Command Line Interface (CLI)</h3>
<p>The CLI is a terminal-based tool written in Kotlin that allows login/logout and management of user keys. This tool
demonstrates how you can interact with Conclave Functions using Conclave Cloud's Kotlin/Java SDKs.</p>
<h2 id="how-is-privacy-preserved">How is privacy preserved?</h2>
<p>With the ConclavePass solution, the only component that can access the user databases in an unencrypted form is the 
function code that runs within the Conclave Functions service.</p>
<p>But how do we ensure that is the case?</p>
<p>Conclave Cloud ensures that only authorized function codes can access data. It does this by running the code within 
an Intel SGX enclave and providing an attestation to prove platform validity, code integrity, and code authenticity. 
The Conclave Cloud platform and the client SDKs handle the details of this whole process.</p>
<p>Let's look at how a user sends a password to the service. The front end or the CLI calls the <code>addEntry</code> function, 
passing the user's password and details of the new password entry. Conclave Cloud encrypts this information using a 
key that is only accessible to the set of functions that the user has approved to handle the user's database.</p>
<p><img alt="An architecture diagram of how Conclave Functions handle privacy" src="../assets/DatabaseEncryption.drawio.png" /></p>
<p>The Conclave Cloud client SDK obtains a public key from the platform signed by a report proving that the private key 
can only be accessed within an approved Conclave Functions enclave. The client SDK validates the report and ensures 
the key signature matches the report's signature. After validating the key, Conclave Cloud encrypts data using this key,
safe in the knowledge that only a valid Conclave Functions enclave can decrypt it.</p>
<p>The password entry is encrypted using this key, and the <code>addEntry</code> function is invoked. The encrypted password is then 
picked up inside a Conclave Functions enclave which can decrypt the parameters using the private key that only it 
has access to. The function retrieves the encrypted user database from the external service.</p>
<p>Once the function has the user's encrypted database, it decrypts it. The key used to encrypt/decrypt the enclave is 
derived from many sources, all of which need to be present to obtain the correct key:</p>
<ol>
<li>The project key. This is the same key used to decrypt the function code and the invocation parameters provided to 
   the function.</li>
<li>The hash of the code that is executing. Mixing this into the encryption key ensures that if someone modifies the 
   code, it cannot access the database.</li>
<li>The user's password. It ensures that one user cannot access the database for another user.</li>
</ol>
<p>The function decrypts the database, adds the new entry, re-encrypts it, and sends it back to the backend.</p>
<p>So, you can see that the only entity that has access to all the secrets required to access each user's database
entry is a Conclave Function running the exact code the user expects it to run and when it has the user's password.</p>
<h2 id="building-and-deploying-the-demonstration">Building and deploying the demonstration</h2>
<p>You must host each of the below components to run the demonstration.</p>
<h3 id="1-backend">1. Backend</h3>
<p>The backend service needs to be available with a fixed IP on the internet to allow Conclave Functions to access it for 
storing user databases.</p>
<p>Conclave Cloud recommends setting up a new virtual machine with your cloud service provider to host this. You can 
choose a VM with the smallest size, as the resource requirements are minimal.</p>
<ul>
<li>Build the service using this command:</li>
</ul>
<div class="highlight"><pre><span></span><code>./gradlew build
</code></pre></div>
<ul>
<li>
<p>Deploy the <code>build/libs/conclavepass-0.0.1-SNAPSHOT.jar</code> file to your VM.</p>
</li>
<li>
<p>Run the backend service with this command:</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code>java -jar ./conclavepass-0.0.1-SNAPSHOT.jar 
</code></pre></div>
<h3 id="2-functions">2. Functions</h3>
<ul>
<li>
<p>Note down the IP address for the backend service that you have just deployed, and update the functions module to 
connect to the service with that address in <code>functions/src/index.ts</code>.</p>
</li>
<li>
<p>Follow the instructions in <a href="https://github.com/R3Conclave/ccl-sample-conclavepass/blob/main/functions/README.md">functions/README.md</a>
to set up a Conclave Cloud project and build and deploy the functions ready for use.</p>
</li>
</ul>
<h3 id="3-frontend">3. Frontend</h3>
<ul>
<li>
<p>Download and unzip the Conclave Cloud JavaScript client SDK and update the frontend project to use your local 
copy.</p>
</li>
<li>
<p>Build and run the front end.</p>
</li>
</ul>
<p>You can find detailed instructions <a href="https://github.com/R3Conclave/ccl-sample-conclavepass/blob/main/frontend/README.md">here</a>.</p>
<p>Once the front end is running, you can access it at http://localhost:4200.</p>
<h3 id="4-command-line-interface-cli">4. Command Line Interface (CLI)</h3>
<ul>
<li>
<p>Download and unzip the Conclave Cloud Java client SDK and update the CLI project to use your local copy.</p>
</li>
<li>
<p>Build and run the CLI.</p>
</li>
</ul>
<p>You can find detailed instructions <a href="https://github.com/R3Conclave/ccl-sample-conclavepass/blob/main/cli/README.md">here</a>.</p>
<h2 id="usage-notes">Usage notes</h2>
<p>This sample is only a demo of a password manager application. It provides only basic functionality and error 
handling. There are a few things to note when you try the demo.</p>
<h3 id="the-username-is-used-as-the-user-token">The username is used as the user token</h3>
<p>When you enter your username, Conclave Cloud runs it through a <a href="https://www.simplilearn.com/tutorials/cyber-security-tutorial/sha-256-algorithm#what_is_the_sha256_algorithm">SHA256</a>
hashing algorithm and converts it to a hex string. This hex string acts as the token for the user. The backend 
service stores and retrieves encrypted databases using this token.</p>
<h3 id="the-password-is-fixed-on-the-first-access">The password is fixed on the first access</h3>
<p>The first time a user token is used, there is no entry within the backend service. So, it returns an empty string. The 
functions component assumes this is a new user and creates an empty database encrypted with the current password. All
subsequent access must use the same password. So the user cannot change the password later.</p>
<h3 id="incorrect-passwords-are-not-handled-well">Incorrect passwords are not handled well</h3>
<p>If you enter an incorrect password, the decrypt function returns invalid data within the functions component. The sample
app doesn't handle this invalid data well, and the JavaScript code fails. This behavior serves the purpose of protecting
the database but is not a good user experience. This is something that can be improved in the demonstration code.</p>
<h3 id="the-database-is-not-persisted">The database is not persisted</h3>
<p>As mentioned above, restarting the backend service clears all user data. This behavior is useful for demonstration 
purposes. However, you should not use this sample application for real-world password management because of the risk of 
data loss.</p>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../crypto/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Crypto" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Crypto
            </div>
          </div>
        </a>
      
      
        
        <a href="../invoking-your-first-function-with-js-sdk/" class="md-footer__link md-footer__link--next" aria-label="Next: Tutorial - Invoking your function using Conclave Cloud JS SDK" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Tutorial - Invoking your function using Conclave Cloud JS SDK
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.748e2769.min.js"></script>
      
    
  </body>
</html>